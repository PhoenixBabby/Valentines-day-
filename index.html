<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Veerena üíï</title>

<style>
* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #ffc0cb, #ffe4ec);
    overflow-y: auto;
    text-align: center;
    color: #ff4d88;
    min-height: 100vh;
}

/* PASSWORD SCREEN CENTERED */
#passwordScreen {
    display: flex;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    background: linear-gradient(135deg, #ffb6c1, #ffc0cb);
    justify-content: center;
    align-items: center;
    flex-direction: column;
    z-index: 20;
}

input {
    padding: 12px;
    border-radius: 25px;
    border: none;
    text-align: center;
    width: 200px;
}

/* ENVELOPE INTRO */
#intro {
    display: none;
    width: 100%;
    min-height: 100vh;
    background: linear-gradient(135deg, #ffb6c1, #ffc0cb);
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    z-index: 10;
}

#envelope {
    width: 200px;
    cursor: pointer;
    transition: transform 0.6s ease;
}

#envelope:hover { transform: scale(1.1); }

.fadeOut { animation: fadeOut 1s forwards; }
@keyframes fadeOut { to { opacity: 0; visibility: hidden; } }

/* MAIN CONTENT CENTERED */
#mainContent { 
    display: none; 
    padding: 0; 
    margin: 0;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
}

/* CONTAINER WITHOUT TOP SPACE */
.container {
    margin: 0 auto 20px auto;
    padding: 25px;
    background: rgba(255,255,255,0.75);
    border-radius: 25px;
    box-shadow: 0 10px 40px rgba(255,105,180,0.3);
    max-width: 420px;
    position: relative;
}

/* GALLERY */
.gallery {
    display: flex;
    overflow-x: auto;
    gap: 15px;
    margin: 0;
    scroll-snap-type: x mandatory;
    justify-content: center;
    align-items: flex-start;
    position: relative;
}

.gallery img {
    width: 200px;
    height: 260px;
    object-fit: cover;
    border-radius: 20px;
    border: 3px solid #ff69b4;
    flex-shrink: 0;
    scroll-snap-align: center;
}

/* BUTTONS */
.buttons {
    position: relative;
    height: 120px;
    margin-top: 10px;
    margin-bottom: 20px;
    overflow: hidden; /* NO button stays inside */
}

button {
    padding: 12px 25px;
    border-radius: 30px;
    border: none;
    font-weight: bold;
    cursor: pointer;
}

#yesBtn {
    background: #ff69b4;
    color: white;
    position: absolute;
    left: 20%;
}

#noBtn {
    background: white;
    color: #ff4d88;
    border: 2px solid #ff69b4;
    position: absolute;
    left: 55%;
}

/* CELEBRATION */
#celebration {
    display: none;
    margin-top: 20px;
    font-size: 1.4rem;
}

/* HIDDEN MESSAGE SCROLLABLE WITH SCROLL HINT BELOW TEXT */
#hiddenMessageContainer {
    display: none;
    margin-top: 20px;
    padding: 10px;
    background: rgba(255,182,193,0.4);
    border-radius: 15px;
    overflow-y: auto;
    max-height: 180px;
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
    position: relative;
}

#hiddenMessageContainer::after {
    content: "‚¨ÜÔ∏è‚¨áÔ∏è";
    position: absolute;
    bottom: 5px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 1.2rem;
    opacity: 0.6;
    animation: bounce 1.2s infinite, fadeHint 1s forwards 10s;
}

@keyframes bounce {
    0%, 100% { transform: translateX(-50%) translateY(0); }
    50% { transform: translateX(-50%) translateY(-6px); }
}

@keyframes fadeHint {
    to { opacity: 0; }
}

/* LILIES AND PETALS */
.lily, .petal {
    position: absolute;
    opacity: 0.9;
    pointer-events: none;
    will-change: transform;
}

.lily { width: 50px; animation-name: floatDown; animation-timing-function: linear; animation-iteration-count: infinite; }
.petal { width: 40px; animation-name: fall; animation-timing-function: linear; animation-iteration-count: 1; }

@keyframes floatDown {
    0% { transform: translateY(0px) translateX(0px) rotate(0deg); }
    25% { transform: translateY(25vh) translateX(10px) rotate(90deg); }
    50% { transform: translateY(50vh) translateX(-10px) rotate(180deg); }
    75% { transform: translateY(75vh) translateX(5px) rotate(270deg); }
    100% { transform: translateY(100vh) translateX(0px) rotate(360deg); }
}

@keyframes fall {
    0% { transform: translateY(0px) rotate(0deg); }
    100% { transform: translateY(100vh) rotate(var(--rotate-deg)); }
}

/* PETAL SPARKLE TRAIL */
.petalTrail {
    position: absolute;
    width: 8px;
    height: 8px;
    background: radial-gradient(circle, #fff 0%, #ffb6c4 80%);
    border-radius: 50%;
    pointer-events: none;
    opacity: 0.8;
    animation: trailFade 0.6s forwards;
    z-index: 50;
}

@keyframes trailFade {
    0% { opacity: 0.8; transform: scale(1); }
    100% { opacity: 0; transform: scale(0.3); }
}

/* SPARKLE ANIMATION */
@keyframes sparkle {
    0% { transform: scale(0.3) rotate(0deg); opacity: 1; }
    50% { transform: scale(1) rotate(180deg); opacity: 0.8; }
    100% { transform: scale(0.1) rotate(360deg); opacity: 0; }
}

.sparkle {
    position: absolute;
    width: 10px;
    height: 10px;
    background: radial-gradient(circle, #fff 0%, #ff69b4 80%);
    border-radius: 50%;
    pointer-events: none;
    animation: sparkle 0.8s ease-out forwards;
    z-index: 100;
}

/* MOBILE ADJUSTMENTS */
@media (max-width: 600px) {
    .lily { width: 35px !important; }
    .petal { width: 30px !important; }

    .container { max-height: calc(100vh - 20px); padding: 15px; margin-top: 0; margin-bottom: 10px; }
    .gallery img { width: 150px; height: 200px; }
    .buttons { height: 80px; margin-top: 10px; margin-bottom: 0; }
    #hiddenMessageContainer { max-height: 150px; overflow-y: auto; }
}
</style>
</head>
<body>

<!-- PASSWORD SCREEN -->
<div id="passwordScreen">
    <h2>Enter The Secret Word üíï</h2>
    <input type="password" id="passwordInput" placeholder="Password">
    <br><br>
    <button onclick="checkPassword()">Enter</button>
    <p id="error" style="color:red;"></p>
</div>

<!-- ENVELOPE -->
<div id="intro">
    <h2>Tap To Open üíå</h2>
    <img src="envelope.png" id="envelope">
</div>

<!-- MAIN CONTENT -->
<div id="mainContent">
    <div class="container">
        <h2>Veerena üå∏</h2>
        <p>Will you be my Valentine?</p>

        <div class="gallery">
            <img src="photo1.jpg">
            <img src="photo2.jpg">
        </div>

        <div class="buttons">
            <button id="yesBtn">Yes üíñ</button>
            <button id="noBtn">No üò¢</button>
        </div>

        <div id="celebration">
            I will never leave you üíóüå∑
        </div>

        <div id="hiddenMessageContainer">
            <div id="hiddenMessage">
                I will always love you baby even on the days it feels hard for both of us to understand each other we will get through thick and thin together and I know you feel the same. Please remember I‚Äôm still the same boy you fell in love with. We are going to close the distance and live the life we want together. Happy valentines my love you really do mean the world to me.
            </div>
        </div>
    </div>
</div>

<audio id="bgMusic">
    <source src="love.mp3" type="audio/mpeg">
</audio>

<script>
const correctPassword = "my love";

/* PASSWORD */
function checkPassword() {
    if(document.getElementById("passwordInput").value === correctPassword) {
        document.getElementById("passwordScreen").style.display = "none";
        document.getElementById("intro").style.display = "flex";
    } else {
        document.getElementById("error").innerText = "Wrong password üíî";
    }
}

/* ENVELOPE CLICK */
document.getElementById("envelope").addEventListener("click", () => {
    document.getElementById("intro").classList.add("fadeOut");
    setTimeout(() => {
        document.getElementById("mainContent").style.display = "flex";
        createLilies();   
        createPetals();   
    }, 1000);
});

/* NO BUTTON RUNAWAY INSIDE CONTAINER */
const noBtn = document.getElementById("noBtn");
const buttonsContainer = document.querySelector('.buttons');

noBtn.addEventListener("touchstart", moveNo);
noBtn.addEventListener("mouseover", moveNo);

function moveNo() {
    const maxX = buttonsContainer.offsetWidth - noBtn.offsetWidth;
    const maxY = buttonsContainer.offsetHeight - noBtn.offsetHeight;
    noBtn.style.left = Math.random() * maxX + "px";
    noBtn.style.top = Math.random() * maxY + "px";
}

/* YES BUTTON WITH MUSIC & SPARKLES */
const yesBtn = document.getElementById("yesBtn");
const music = document.getElementById("bgMusic");

yesBtn.addEventListener("click", () => {
    document.getElementById("celebration").style.display = "block";
    createPetalsFromPhotos(); 
    createLiliesFromPhotos(); 
    setTimeout(() => {
        document.getElementById("hiddenMessageContainer").style.display = "block";
    }, 5000);

    // Sparkles
    for(let i=0;i<8;i++){
        const sparkle = document.createElement("div");
        sparkle.classList.add("sparkle");
        sparkle.style.left = yesBtn.offsetLeft + yesBtn.offsetWidth/2 + (Math.random()*80-40) + "px";
        sparkle.style.top = yesBtn.offsetTop + yesBtn.offsetHeight/2 + (Math.random()*80-40) + "px";
        document.body.appendChild(sparkle);
        setTimeout(() => sparkle.remove(), 800);
    }

    // Music fade in/out after 2 min
    music.volume = 0;
    music.play();
    let volume = 0;
    const fadeInInterval = setInterval(() => {
        if(volume < 0.3){
            volume += 0.01;
            music.volume = volume;
        } else {
            clearInterval(fadeInInterval);
            setTimeout(() => {
                const fadeOutInterval = setInterval(() => {
                    if(volume > 0){
                        volume -= 0.01;
                        music.volume = Math.max(volume,0);
                    } else {
                        clearInterval(fadeOutInterval);
                        music.pause();
                    }
                }, 100);
            }, 120000); // 2 minutes
        }
    }, 100);
});

/* CONSTANT SCREEN LILIES */
function createLilies() {
    const maxLilies = window.innerWidth < 600 ? 5 : 8;
    setInterval(() => {
        const lilies = document.querySelectorAll('.lily');
        if (lilies.length >= maxLilies) return;
        const lily = document.createElement("img");
        lily.src = "lily.png";
        lily.classList.add("lily");
        lily.style.left = Math.random() * window.innerWidth + "px";
        lily.style.top = "-60px";
        lily.style.animationDuration = (10 + Math.random()*4) + "s";
        document.body.appendChild(lily);
        setTimeout(() => lily.remove(), parseFloat(lily.style.animationDuration) * 1000);
    }, 3000);
}

/* CONSTANT SCREEN PETALS */
function createPetals() {
    const maxPetals = window.innerWidth < 600 ? 15 : 25;
    setInterval(() => {
        const petals = document.querySelectorAll('.petal');
        if (petals.length >= maxPetals) return;
        const petal = document.createElement("img");
        petal.src = "petal.png";
        petal.classList.add("petal");
        petal.style.left = Math.random() * window.innerWidth + "px";
        petal.style.top = "-40px";
        petal.style.setProperty('--rotate-deg', Math.floor(90+Math.random()*270)+'deg');
        petal.style.animationDuration = (5+Math.random()*3) + "s";
        document.body.appendChild(petal);

        // Sparkle trail interval
        const trailInterval = setInterval(() => {
            const trail = document.createElement("div");
            trail.classList.add("petalTrail");
            const petalRect = petal.getBoundingClientRect();
            trail.style.left = petalRect.left + Math.random()*10 + "px";
            trail.style.top = petalRect.top + Math.random()*10 + "px";
            document.body.appendChild(trail);
            setTimeout(() => trail.remove(), 600);
        }, 100);

        setTimeout(() => {
            clearInterval(trailInterval);
            petal.remove();
        }, parseFloat(petal.style.animationDuration)*1000);
    }, 400);
}

/* EXTRA petals from photos on YES */
function createPetalsFromPhotos() {
    const galleryPhotos = document.querySelectorAll('.gallery img');
    setInterval(() => {
        const photo = galleryPhotos[Math.floor(Math.random()*galleryPhotos.length)];
        const rect = photo.getBoundingClientRect();
        const petal = document.createElement("img");
        petal.src = "petal.png";
        petal.classList.add("petal");
        petal.style.left = rect.left + Math.random()*rect.width + "px";
        petal.style.top = rect.top + "px";
        petal.style.setProperty('--rotate-deg', Math.floor(90+Math.random()*270)+'deg');
        petal.style.animationDuration = (5+Math.random()*3) + "s";
        document.body.appendChild(petal);

        // Sparkle trail interval
        const trailInterval = setInterval(() => {
            const trail = document.createElement("div");
            trail.classList.add("petalTrail");
            const petalRect = petal.getBoundingClientRect();
            trail.style.left = petalRect.left + Math.random()*10 + "px";
            trail.style.top = petalRect.top + Math.random()*10 + "px";
            document.body.appendChild(trail);
            setTimeout(() => trail.remove(), 600);
        }, 100);

        setTimeout(() => {
            clearInterval(trailInterval);
            petal.remove();
        }, parseFloat(petal.style.animationDuration)*1000);
    }, 300);
}

/* EXTRA lilies from photos on YES */
function createLiliesFromPhotos() {
    const galleryPhotos = document.querySelectorAll('.gallery img');
    setInterval(() => {
        const photo = galleryPhotos[Math.floor(Math.random()*galleryPhotos.length)];
        const rect = photo.getBoundingClientRect();
        const lily = document.createElement("img");
        lily.src = "lily.png";
        lily.classList.add("lily");
        lily.style.left = rect.left + Math.random()*rect.width + "px";
        lily.style.top = rect.top + "px";
        lily.style.animationDuration = (8+Math.random()*3) + "s";
        document.body.appendChild(lily);
        setTimeout(() => lily.remove(), parseFloat(lily.style.animationDuration) * 1000);
    }, 4000);
}
</script>
</body>
</html>
