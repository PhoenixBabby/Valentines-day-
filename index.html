<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Veerena ðŸ’•</title>

<style>
* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #ffc0cb, #ffe4ec);
    overflow-y: auto;
    text-align: center;
    color: #ff4d88;
    min-height: 100vh;
}

/* Password Screen Centered */
#passwordScreen {
    display: flex;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    background: linear-gradient(135deg, #ffb6c1, #ffc0cb);
    justify-content: center;
    align-items: center;
    flex-direction: column;
    z-index: 20;
}

input {
    padding: 12px;
    border-radius: 25px;
    border: none;
    text-align: center;
    width: 200px;
}

/* Envelope Intro (hidden initially) */
#intro {
    display: none;
    width: 100%;
    min-height: 100vh;
    background: linear-gradient(135deg, #ffb6c1, #ffc0cb);
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    z-index: 10;
}

#envelope {
    width: 200px;
    cursor: pointer;
    transition: transform 0.6s ease;
}

#envelope:hover { transform: scale(1.1); }

.fadeOut { animation: fadeOut 1s forwards; }
@keyframes fadeOut { to { opacity: 0; visibility: hidden; } }

/* Main Content Centered */
#mainContent { display: none; padding: 20px; display: flex; justify-content: center; align-items: center; flex-direction: column; }

.container {
    margin: auto;
    padding: 25px;
    background: rgba(255,255,255,0.75);
    border-radius: 25px;
    box-shadow: 0 10px 40px rgba(255,105,180,0.3);
    max-width: 420px;
}

/* Gallery */
.gallery {
    display: flex;
    overflow-x: auto;
    gap: 15px;
    margin: 10px 0;
    scroll-snap-type: x mandatory;
    justify-content: center;
    align-items: flex-start;
    position: relative;
}

.gallery img {
    width: 200px;
    height: 260px;
    object-fit: cover;
    border-radius: 20px;
    border: 3px solid #ff69b4;
    flex-shrink: 0;
    scroll-snap-align: center;
}

/* Buttons */
.buttons {
    position: relative;
    height: 120px;
    margin-bottom: 20px;
}

button {
    padding: 12px 25px;
    border-radius: 30px;
    border: none;
    font-weight: bold;
    cursor: pointer;
}

#yesBtn {
    background: #ff69b4;
    color: white;
    position: absolute;
    left: 20%;
}

#noBtn {
    background: white;
    color: #ff4d88;
    border: 2px solid #ff69b4;
    position: absolute;
    left: 55%;
}

/* Celebration */
#celebration {
    display: none;
    margin-top: 20px;
    font-size: 1.4rem;
}

/* Hidden Message Scrollable & Smooth */
#hiddenMessageContainer {
    display: none;
    margin-top: 20px;
    padding: 10px;
    background: rgba(255,182,193,0.4);
    border-radius: 15px;
    overflow-y: auto;
    max-height: 180px;
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch; /* mobile smooth */
}

#hiddenMessage {
    display: block;
    font-size: 1rem;
    white-space: normal;
}

/* Lilies and Petals */
.lily, .petal {
    position: absolute;
    opacity: 0.9;
    pointer-events: none;
    will-change: transform;
}

.lily { width: 50px; animation-name: floatDown; animation-timing-function: linear; animation-iteration-count: infinite; }
.petal { width: 25px; animation-name: fall; animation-timing-function: linear; animation-iteration-count: 1; }

/* Lilies float down */
@keyframes floatDown {
    0% { transform: translateY(0px) translateX(0px) rotate(0deg); }
    25% { transform: translateY(25vh) translateX(10px) rotate(90deg); }
    50% { transform: translateY(50vh) translateX(-10px) rotate(180deg); }
    75% { transform: translateY(75vh) translateX(5px) rotate(270deg); }
    100% { transform: translateY(100vh) translateX(0px) rotate(360deg); }
}

/* Petals falling */
@keyframes fall {
    0% { transform: translateY(0px) rotate(0deg); }
    100% { transform: translateY(100vh) rotate(var(--rotate-deg)); }
}

/* Mobile Optimization */
@media (max-width: 600px) {
    .lily { width: 40px; }
    .petal { width: 20px; }
}
</style>
</head>

<body>

<!-- PASSWORD PROMPT -->
<div id="passwordScreen">
    <h2>Enter The Secret Word ðŸ’•</h2>
    <input type="password" id="passwordInput" placeholder="Password">
    <br><br>
    <button onclick="checkPassword()">Enter</button>
    <p id="error" style="color:red;"></p>
</div>

<!-- Envelope -->
<div id="intro">
    <h2>Tap To Open ðŸ’Œ</h2>
    <img src="envelope.png" id="envelope">
</div>

<!-- Main Content -->
<div id="mainContent">
    <div class="container">
        <h2>Veerena ðŸŒ¸</h2>
        <p>Will you be my Valentine?</p>

        <div class="gallery">
            <img src="photo1.jpg">
            <img src="photo2.jpg">
        </div>

        <div class="buttons">
            <button id="yesBtn">Yes ðŸ’–</button>
            <button id="noBtn">No ðŸ˜¢</button>
        </div>

        <div id="celebration">
            I will never leave you ðŸ’—ðŸŒ·
        </div>

        <!-- Hidden Message Scrollable -->
        <div id="hiddenMessageContainer">
            <div id="hiddenMessage">
                I will always love you baby even on the days it feels hard for both of us to understand each other we will get through thick and thin together and I know you feel the same. Please remember Iâ€™m still the same boy you fell in love with. We are going to close the distance and live the life we want together. Happy valentines my love you really do mean the world to me.
            </div>
        </div>

    </div>
</div>

<audio id="bgMusic">
    <source src="love.mp3" type="audio/mpeg">
</audio>

<script>
const correctPassword = "my love";

/* PASSWORD */
function checkPassword() {
    if(document.getElementById("passwordInput").value === correctPassword) {
        document.getElementById("passwordScreen").style.display = "none";
        document.getElementById("intro").style.display = "flex";
    } else {
        document.getElementById("error").innerText = "Wrong password ðŸ’”";
    }
}

/* ENVELOPE CLICK */
document.getElementById("envelope").addEventListener("click", () => {
    document.getElementById("intro").classList.add("fadeOut");
    setTimeout(() => {
        document.getElementById("mainContent").style.display = "flex";
        createLilies();   // constant screen lilies
        createPetals();   // constant screen petals
    }, 1000);
});

/* NO BUTTON RUNAWAY */
const noBtn = document.getElementById("noBtn");
noBtn.addEventListener("touchstart", moveNo);
noBtn.addEventListener("mouseover", moveNo);

function moveNo() {
    const maxX = window.innerWidth - noBtn.offsetWidth;
    const maxY = window.innerHeight - noBtn.offsetHeight;
    noBtn.style.left = Math.random() * maxX + "px";
    noBtn.style.top = Math.random() * maxY + "px";
}

/* YES BUTTON */
const yesBtn = document.getElementById("yesBtn");
const music = document.getElementById("bgMusic");

yesBtn.addEventListener("click", () => {
    document.getElementById("celebration").style.display = "block";
    
    music.volume = 0.3;
    music.play();

    createPetalsFromPhotos(); // extra petals from gallery photos
    createLiliesFromPhotos(); // extra lilies from gallery photos

    setTimeout(() => {
        document.getElementById("hiddenMessageContainer").style.display = "block";
    }, 5000);
});

/* CONSTANT SCREEN LILIES */
function createLilies() {
    const maxLilies = window.innerWidth < 600 ? 5 : 8;
    setInterval(() => {
        const lilies = document.querySelectorAll('.lily');
        if (lilies.length >= maxLilies) return;

        const lily = document.createElement("img");
        lily.src = "lily.png";
        lily.classList.add("lily");
        lily.style.left = Math.random() * window.innerWidth + "px";
        lily.style.top = "-60px";
        lily.style.animationDuration = (10 + Math.random()*4) + "s";

        document.body.appendChild(lily);
        setTimeout(() => lily.remove(), parseFloat(lily.style.animationDuration) * 1000);
    }, window.innerWidth < 600 ? 4000 : 3000);
}

/* CONSTANT SCREEN PETALS */
function createPetals() {
    const maxPetals = window.innerWidth < 600 ? 15 : 25;
    setInterval(() => {
        const petals = document.querySelectorAll('.petal');
        if (petals.length >= maxPetals) return;

        const petal = document.createElement("img");
        petal.src = "petal.png";
        petal.classList.add("petal");
        petal.style.left = Math.random() * window.innerWidth + "px";
        petal.style.top = "-35px";
        petal.style.setProperty('--rotate-deg', Math.floor(90+Math.random()*270)+'deg');
        petal.style.animationDuration = (5+Math.random()*3) + "s";

        document.body.appendChild(petal);
        setTimeout(() => petal.remove(), parseFloat(petal.style.animationDuration)*1000);
    }, window.innerWidth < 600 ? 600 : 400);
}

/* EXTRA PETALS FALLING FROM PHOTOS ON YES */
function createPetalsFromPhotos() {
    const galleryPhotos = document.querySelectorAll('.gallery img');
    setInterval(() => {
        const photo = galleryPhotos[Math.floor(Math.random() * galleryPhotos.length)];
        const rect = photo.getBoundingClientRect();
        const petal = document.createElement("img");
        petal.src = "petal.png";
        petal.classList.add("petal");
        petal.style.left = rect.left + Math.random()*rect.width + "px";
        petal.style.top = rect.top + "px";
        petal.style.setProperty('--rotate-deg', Math.floor(90+Math.random()*270)+'deg');
        petal.style.animationDuration = (5+Math.random()*3) + "s";

        document.body.appendChild(petal);
        setTimeout(() => petal.remove(), parseFloat(petal.style.animationDuration)*1000);
    }, 300);
}

/* EXTRA LILIES FALLING FROM PHOTOS ON YES */
function createLiliesFromPhotos() {
    const galleryPhotos = document.querySelectorAll('.gallery img');
    setInterval(() => {
        const photo = galleryPhotos[Math.floor(Math.random() * galleryPhotos.length)];
        const rect = photo.getBoundingClientRect();
        const lily = document.createElement("img");
        lily.src = "lily.png";
        lily.classList.add("lily");
        lily.style.left = rect.left + Math.random()*rect.width + "px";
        lily.style.top = rect.top + "px";
        lily.style.animationDuration = (8+Math.random()*3) + "s";

        document.body.appendChild(lily);
        setTimeout(() => lily.remove(), parseFloat(lily.style.animationDuration)*1000);
    }, 4000);
}
</script>

</body>
</html>
